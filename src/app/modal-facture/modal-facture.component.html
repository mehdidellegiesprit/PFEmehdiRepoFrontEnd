<mat-card class="facture-section">
  <mat-card-content>
    <h2 class="modal-title">Gestion des Factures</h2>

    <!-- Section pour afficher et gÃ©rer les factures -->
    <table mat-table [dataSource]="factures" class="mat-elevation-z8">
      <!-- Titre de Facture Column -->
      <ng-container matColumnDef="commentaire" class="narrow-column">
        <th mat-header-cell *matHeaderCellDef class="header-cell">
          Commentaire
        </th>
        <td mat-cell *matCellDef="let facture" class="cell">
          {{ facture.commentaire }}
        </td>
      </ng-container>
      <ng-container matColumnDef="titre" class="narrow-column">
        <th mat-header-cell *matHeaderCellDef class="header-cell">Titre</th>
        <td mat-cell *matCellDef="let facture" class="cell">
          {{ facture.titre }}
        </td>
      </ng-container>
      <!-- Actions Column -->
      <ng-container matColumnDef="actions" class="wide-column">
        <th mat-header-cell *matHeaderCellDef class="header-cell">Actions</th>
        <td mat-cell *matCellDef="let facture" class="cell">
          <div class="action-buttons">
            <button
              mat-icon-button
              color="primary"
              (click)="ajouterCommentaire(facture)"
            >
              <mat-icon>add_comment</mat-icon> Ajouter Commentaire
            </button>

            <button
              mat-icon-button
              color="warn"
              (click)="afficherConfirmationSuppression(facture)"
              class="delete-button"
            >
              <mat-icon>delete</mat-icon> Supprimer
            </button>
            <div
              class="confirmation-container"
              *ngIf="facture === factureASupprimer"
            >
              <p>Voulez-vous vraiment supprimer cette facture ?</p>
              <div>
                <button
                  mat-button
                  color="warn"
                  (click)="confirmerSuppression()"
                >
                  Oui
                </button>
                <button
                  mat-button
                  color="primary"
                  (click)="annulerSuppression()"
                >
                  Annuler
                </button>
              </div>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        [ngClass]="{ 'first-row': row === factures[0] }"
      ></tr>
    </table>
  </mat-card-content>
</mat-card>
